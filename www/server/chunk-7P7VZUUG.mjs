import './polyfills.server.mjs';
import{a as k}from"./chunk-MLTETWJW.mjs";import{A as w,C as E}from"./chunk-7YJGLTD3.mjs";import{a as T}from"./chunk-Z35HLABL.mjs";import{$a as h,Ia as O,Q as g,X as _,Y as f,Za as P,_a as b,a as x,ab as t,bb as e,cb as u,fb as v,gb as y,hb as S,ib as d,jb as i,kb as C,lb as c,mb as I,wa as M,ya as r}from"./chunk-TPCAKXNQ.mjs";import"./chunk-S6KH3LOX.mjs";function z(s,o){if(s&1){let n=v();t(0,"div",4),u(1,"img",12),t(2,"div",13)(3,"div",14)(4,"span",15),i(5),e(),t(6,"span",16),i(7),e()(),t(8,"div",17),i(9),e(),t(10,"div",18)(11,"span"),i(12,"\u2605\u2605\u2605\u2605\u2605"),e(),t(13,"span",19),i(14),e()(),t(15,"a",20),y("click",function(){let l=_(n).$implicit,p=S();return f(p.removeItemById(l.id))}),i(16,"Remove"),e()(),t(17,"div",21),i(18),e()()}if(s&2){let n=o.$implicit;r(),d("src",n.image,M),d("alt",n.title),r(4),c("- $ ",n.discount,""),r(2),C(n.title),r(2),C(n.author),r(5),I("",n==null?null:n.hours," ",n==null?null:n.lectures,""),r(4),c("$ ",n.price,"")}}var m=class s{cartCount=0;coursesInMyCart=[];totalPrice=0;totalDiscount=0;grandTotal=0;totalItems=0;_cartServices=g(k);_secureLocalStorage=g(T);subscription=new x;ngOnInit(){let o=this._secureLocalStorage.getJsonValue("courses"),n=o?JSON.parse(o):[];this.coursesInMyCart=n,this.totalItems=this.coursesInMyCart.length,this.calculateTotals(),this.subscription=this._cartServices.cartCount$.subscribe(a=>{this.cartCount=a})}calculateTotals(){this.totalPrice=0,this.totalDiscount=0,this.grandTotal=0,this.coursesInMyCart.forEach(o=>{this.totalPrice+=o.price||0,this.totalDiscount+=o.discount||0,this.grandTotal+=o.price-o.discount||0})}removeItemById(o){let a=this.coursesInMyCart.filter(p=>p.id!==o);this.coursesInMyCart=a,this._secureLocalStorage.setJsonValue("courses",JSON.stringify(a)),this.calculateTotals();let l=this.cartCount-1;this.cartCount=l>=0?l:0,this._secureLocalStorage.setJsonValue("cartCount",this.cartCount.toString())}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(n){return new(n||s)};static \u0275cmp=O({type:s,selectors:[["app-cart"]],decls:36,vars:4,consts:[[1,"container-fluid","py-5"],[1,"row","cart-container"],[1,"col-lg-7","col-md-7"],[1,"course-count"],[1,"cart-item"],[1,"col-lg-4","col-md-4"],[1,"summary-box"],[1,"summary-title"],[1,"summary-item"],[1,"discount-text"],[1,"summary-total"],["routerLink","/checkout",1,"checkout-btn","mt-4"],[3,"src","alt"],[1,"cart-info"],[1,"title-row"],[1,"discount"],[1,"title"],[1,"instructor"],[1,"details"],[1,"extra-info"],[2,"cursor","pointer",3,"click"],[1,"price"]],template:function(n,a){n&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),i(4,"Shopping Cart"),e(),t(5,"div",3),i(6),e(),b(7,z,19,8,"div",4,P),e(),t(9,"div",5)(10,"div",6)(11,"div",7),i(12,"Order Details"),e(),t(13,"div",8)(14,"span"),i(15,"Total Price"),e(),t(16,"span"),i(17),e()(),t(18,"div",8)(19,"span"),i(20,"Discount"),e(),t(21,"span",9),i(22),e()(),t(23,"div",8)(24,"span"),i(25,"Tax"),e(),t(26,"span"),i(27,"$20.00"),e()(),u(28,"hr"),t(29,"div",10)(30,"span"),i(31,"Grand Total"),e(),t(32,"span"),i(33),e()()(),t(34,"button",11),i(35,"Proceed to Checkout"),e()()()()),n&2&&(r(6),c("",a.totalItems," Course(s) in cart"),r(),h(a.coursesInMyCart),r(10),c("$",a.totalPrice,""),r(5),c("- $",a.totalDiscount,""),r(11),c("$",a.grandTotal.toFixed(),""))},dependencies:[E,w],styles:[".cart-container[_ngcontent-%COMP%]{gap:32px}.cart-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700}.cart-container[_ngcontent-%COMP%]   .course-count[_ngcontent-%COMP%]{color:#666;font-size:14px;margin-bottom:16px}.cart-container[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;background:#fff;border-radius:8px;box-shadow:0 1px 4px #eee;margin-bottom:20px;padding:16px;position:relative}.cart-container[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]:hover{box-shadow:0 5px 35px #44444421;transition:.3s all ease-in-out}.cart-container[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:80px;object-fit:cover;border-radius:8px;margin-right:20px}.cart-container[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .cart-info[_ngcontent-%COMP%]{flex:1}.cart-container[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .cart-info[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]{display:flex;align-items:center}.cart-container[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .cart-info[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .discount[_ngcontent-%COMP%]{background:#e14e4e;color:#fff;font-weight:700;border-radius:6px;padding:2px 10px;font-size:13px;margin-right:10px}.cart-container[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .cart-info[_ngcontent-%COMP%]   .title-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.cart-container[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .cart-info[_ngcontent-%COMP%]   .instructor[_ngcontent-%COMP%]{color:#888;font-size:14px;margin:4px 0 6px}.cart-container[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .cart-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;color:#f7b731}.cart-container[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .cart-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .extra-info[_ngcontent-%COMP%]{color:#888;margin-left:10px}.cart-container[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .cart-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e14e4e;font-size:13px;margin-top:4px;display:inline-block}.cart-container[_ngcontent-%COMP%]   .cart-item[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin-left:20px}.cart-container[_ngcontent-%COMP%]   .summary-box[_ngcontent-%COMP%]{background:#f8fafc;border-radius:8px;box-shadow:0 5px 35px #44444421;padding:24px;margin-bottom:20px}.cart-container[_ngcontent-%COMP%]   .summary-box[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-weight:700;color:#2437ac;font-size:18px;margin-bottom:18px}.cart-container[_ngcontent-%COMP%]   .summary-box[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px;font-size:16px}.cart-container[_ngcontent-%COMP%]   .summary-box[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .discount-text[_ngcontent-%COMP%]{color:#e14e4e}.cart-container[_ngcontent-%COMP%]   .summary-box[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:16px 0}.cart-container[_ngcontent-%COMP%]   .summary-box[_ngcontent-%COMP%]   .summary-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:20px;font-weight:700}.cart-container[_ngcontent-%COMP%]   .checkout-btn[_ngcontent-%COMP%]{width:100%;background:#0af;color:#fff;border:none;border-radius:6px;padding:14px 0;font-size:16px;font-weight:600;cursor:pointer}"]})};var q=[{path:"",component:m,data:{breadcrumb:"Cart"}}];export{q as CART_ROUTES};
